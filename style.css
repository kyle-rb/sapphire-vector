html {
    height: 100%;
}

body {
    height: 100%;
    margin: 0;
    background-color: #000000;
}

/* hides the overflow in the images that should already be hidden in rendering */
/* also lets us do constraints based on percentages */
.viewbox {
    position: absolute;
    width: 100vw;
    height: 56.25vw;
    overflow: hidden;
}
@media screen and (min-aspect-ratio: 16/9) {
    .viewbox {
        width: 178vh;
        height: 100vh;
        left: calc(50vw - 89vh); /* (fullWidth - actualWidth) / 2 */
    }
}

#white-box, #copyright, #black-box, #game-freak-logo,
#mountain-background, #grass-layer, #puddle, #leaves-foreground,
#droplet-leaf-box, #droplet-leaf, #ripple-leaf-1, #ripple-leaf-2, #ripple-leaf-3,
#droplet-left-box, #droplet-left, #ripple-left-1, #ripple-left-2, #ripple-left-3,
#droplet-right-box, #droplet-right, #ripple-right-1, #ripple-right-2, #ripple-right-3,
#latias-silhouette-box, #latias-silhouette,
#ocean-background, #grass-patch-box, #grass-patch-1, #grass-patch-2, #grass-patch-3,
#cloud-speed-1, #cloud-speed-2, #cloud-speed-3, #cloud-speed-4,
#cloud-xl-1, #cloud-xl-2, #cloud-l-1, #cloud-l-2, #cloud-l-3, #cloud-l-4, #cloud-l-5,
#cloud-m-1, #cloud-m-2, #cloud-m-3, #cloud-m-4, #cloud-s-1, #cloud-s-2, #cloud-s-3, #cloud-s-4,
#cloud-s-5, #cloud-xs-1, #cloud-xs-2, #cloud-xs-3, #cloud-xs-4, #cloud-xs-5,
#bike-box, #bike, #latias-box, #latias,
#arena, #color-stripe, #sharpedo, #duskull {
    display: block;
    position: absolute;
    opacity: 0;
    animation-duration: 100s;
    animation-timing-function: linear;
    /* animation-delay: -35s; */
    /* animation-play-state: paused; */
}

#white-box {
    width: 100%;
    height: 100%;
    top: 0;
    background-color: #ffffff;
    animation-name: white-box;
}

#copyright {
    width: 100%;
    top: 0;
    animation-name: copyright;
}

#black-box {
    width: 100%;
    height: 100%;
    top: 0;
    background-color: #000000;
    animation-name: black-box;
}

#puddle {
    width: 100%;
    top: -20%;
    animation-name: puddle;
}

#leaves-foreground {
    width: 100%;
    top: -34%;
    animation-name: leaves-foreground;
}

#droplet-leaf-box {
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    opacity: 1;
    animation-name: droplet-leaf-box;
}
#droplet-leaf {
    width: 5%;
    top: -9%;
    right: 0%;
    animation-name: droplet-leaf;
}
#ripple-leaf-1, #ripple-leaf-2, #ripple-leaf-3 {
    width: 2%;
    top: 81%;
    left: 51.7%;
    animation-name: ripple;
}
#ripple-leaf-1 { animation-delay: 0.0s; }
#ripple-leaf-2 { animation-delay: 0.2s; }
#ripple-leaf-3 { animation-delay: 0.4s; }

#droplet-left-box {
    width: 100%;
    height: 100%;
    top: 0;
    animation-name: droplet-left-box;
}
#droplet-left {
    width: 3%;
    top: -9%;
    left: 19%;
    opacity: 1;
    animation-duration: unset; /* probably not necessary with no name specified */
}
#ripple-left-1, #ripple-left-2, #ripple-left-3 {
    width: 2%;
    top: 72%;
    left: 19.5%;
    animation-name: ripple;
}
#ripple-left-1 { animation-delay: 1.9s; }
#ripple-left-2 { animation-delay: 2.1s; }
#ripple-left-3 { animation-delay: 2.3s; }

#droplet-right-box {
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    animation-name: droplet-right-box;
}
#droplet-right {
    width: 3%;
    top: -9%;
    right: 15%;
    opacity: 1;
    animation-duration: unset; /* probably not necessary with no name specified */
}
#ripple-right-1, #ripple-right-2, #ripple-right-3 {
    width: 2%;
    top: 78%;
    right: 15.5%;
    animation-name: ripple;
}
#ripple-right-1 { animation-delay: 2.0s; }
#ripple-right-2 { animation-delay: 2.2s; }
#ripple-right-3 { animation-delay: 2.4s; }

#grass-layer {
    width: 99.8%;
    left: 0.1%;
    top: -39%;
    animation-name: grass-layer;
}

#game-freak-logo {
    width: 68%;
    top: 21%;
    left: 16%;
    animation-name: game-freak-logo;
}

#mountain-background {
    width: 99.8%;
    left: 0.1%;
    top: -0.1%;
    animation-name: mountain-background;
}

#latias-silhouette-box {
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    animation-name: latias-silhouette-box;
}

#latias-silhouette {
    width: 32%;
    top: 90%;
    right: 4%;
    opacity: 1;
    animation-name: latias-silhouette;
}

#ocean-background {
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    animation-name: ocean-background;
}

#cloud-speed-1, #cloud-speed-2, #cloud-speed-3, #cloud-speed-4 { /* different cloud speeds */
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
}
#cloud-speed-1 { animation-name: cloud-speed-1; } /* moves every other beat */
#cloud-speed-2 { animation-name: cloud-speed-2; } /* moves every third beat */
#cloud-speed-3 { animation-name: cloud-speed-3; } /* moves every sixth beat */
#cloud-speed-4 { animation-name: cloud-speed-4; } /* moves every twenty fourth beat */

#cloud-xl-1, #cloud-xl-2 { width: 24%; opacity: 1; }
#cloud-xl-1 { top: 4%; left: 3%; }
#cloud-xl-2 { top: -1%; left: 44%; }

#cloud-l-1, #cloud-l-2, #cloud-l-3, #cloud-l-4, #cloud-l-5 { width: 16%; opacity: 1; }
#cloud-l-1 { top: 13%; left: 22%; }
#cloud-l-2 { top: 1%; left: 29%; }
#cloud-l-3 { top: 13%; left: 59%; }
#cloud-l-4 { top: 5%; left: 73%; }
#cloud-l-5 { top: 15%; left: 86%; }

#cloud-m-1, #cloud-m-2, #cloud-m-3, #cloud-m-4 { width: 8%; opacity: 1; }
#cloud-m-1 { top: 22%; left: 20%; }
#cloud-m-2 { top: 17%; left: 26%; }
#cloud-m-3 { top: 22%; left: 64%; }
#cloud-m-4 { top: 21%; left: 76%; }

#cloud-s-1, #cloud-s-2, #cloud-s-3, #cloud-s-4, #cloud-s-5 { width: 6%; opacity: 1; }
#cloud-s-1 { top: 24%; left: 11%; }
#cloud-s-2 { top: 15%; left: 34%; }
#cloud-s-3 { top: 25%; left: 39%; }
#cloud-s-4 { top: 25%; left: 61%; }
#cloud-s-5 { top: 24%; left: 77%; }

#cloud-xs-1, #cloud-xs-2, #cloud-xs-3, #cloud-xs-4, #cloud-xs-5 { width: 5%; opacity: 1; }
#cloud-xs-1 { top: 26%; left: 0%; }
#cloud-xs-2 { top: 27%; left: 21%; }
#cloud-xs-3 { top: 25%; left: 35%; }
#cloud-xs-4 { top: 20%; left: 52%; }
#cloud-xs-5 { top: 27%; left: 98%; }

#grass-patch-box {
    width: 100%;
    height: 70%;
    top: 50%;
    left: 0;
    animation-name: grass-patch-box;
}

#grass-patch-1, #grass-patch-2, #grass-patch-3 {
    width: 55%;
    top: 0;
    left: 0;
    opacity: 0;
    animation-name: grass-patch;
    animation-duration: 2s;
    animation-iteration-count: 20; /* about 40 seconds total, which should be plenty */
}
#grass-patch-1 { animation-delay: 0.0s; }
#grass-patch-2 { animation-delay: 0.667s; }
#grass-patch-3 { animation-delay: 1.333s; }

#bike-box {
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    animation-name: bike-box;
}

#bike {
    width: 22%;
    top: 44%;
    right: -25%;
    opacity: 1;
    animation-duration: unset;
}

#latias-box {
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    animation-name: latias-box;
}

#latias {
    width: 36%;
    top: -30%;
    left: -40%;
    opacity: 1;
    animation-name: latias;
    animation-duration: 1s;
    animation-delay: 28s;
    animation-iteration-count: 20;
    animation-direction: alternate;
    animation-timing-function: ease-in-out;
}



/*
 * ANIMATION KEYFRAMES
 * 100s animation-duration so 1 percent = 1 second, but we really only need the first 60 or so
 */

@keyframes white-box {
    0%    { opacity: 1; }
    0.5%  { opacity: 0; }
    19.8% { opacity: 0; }
    20.1% { opacity: 1; }
    20.3% { opacity: 1; }
    20.6% { opacity: 0; }
    34%   { opacity: 0; }
    36%   { opacity: 1; }
    38.5% { opacity: 1; }
    38.6% { opacity: 0; }
    100%  { opacity: 0; }
}

@keyframes copyright {
    0%    { opacity: 1; }
    2.1%  { opacity: 1; }
    2.5%  { opacity: 0; }
    100%  { opacity: 0; }
}

@keyframes black-box {
    0%    { opacity: 1; }
    3.0%  { opacity: 1; }
    3.3%  { opacity: 0; }
    100%  { opacity: 0; }
}

@keyframes droplet-leaf-box {
    0%    { transform: translate(0, 0); }
    4.1%  { transform: translate(0, 0); }
    4.6%  { transform: translate(-12%, 10%); }
    5%    { transform: translate(-22%, 11%); }
    5.4%  { transform: translate(-31%, 14%); }
    6%    { transform: translate(-45%, 26%); }
    6.1%  { transform: translate(-45%, 31%); }
    6.2%  { transform: translate(-44%, 30%); }
    6.3%  { transform: translate(-45%, 31%); }
    6.4%  { transform: translate(-46%, 30%); }
    6.5%  { transform: translate(-45%, 31%); }
    6.6%  { transform: translate(-44%, 30%); }
    6.7%  { transform: translate(-45%, 31%); }
    6.8%  { transform: translate(-46%, 30%); }
    6.9%  { transform: translate(-45%, 31%); }
    7.7%  { transform: translate(-45%, 85%); }
    100%  { transform: translate(0, 0); }
}
@keyframes droplet-leaf {
    0%    { opacity: 0; }
    4.1%  { opacity: 1;
            transform: scaleY(0.6); }
    6%    { transform: scaleY(0.6); }
    6.1%  { transform: scaleY(1); }
    7.7%  { opacity: 1; }
    7.8%  { opacity: 0; }
    100%  { opacity: 0; }
}

@keyframes droplet-left-box {
    0%    { opacity: 0;
            transform: translateY(0); }
    8.9%  { opacity: 0; }
    9%    { opacity: 1;
            transform: translateY(0); }
    9.7%  { opacity: 1;
            transform: translateY(80%); }
    9.8%  { opacity: 0;
            transform: translateY(80%); }
    9.9%  { transform: translate(0); }
    100%  { transform: translate(0); }
}

@keyframes droplet-right-box {
    0%    { opacity: 0;
            transform: translateY(0); }
    8.9%  { opacity: 0; }
    9.2%  { opacity: 1;
            transform: translateY(0); }
    9.9%  { opacity: 1;
            transform: translateY(85%); }
    10%   { opacity: 0;
            transform: translateY(85%); }
    10.1% { transform: translate(0); }
    100%  { transform: translate(0); }
}

@keyframes ripple {
    0%    { opacity: 0;
            transform: scale(1); }
    7.7%  { opacity: 0; }
    7.8%  { opacity: 0.2;
            transform: scale(1); }
    8.7%  { opacity: 0.2;
            transform: scale(15); }
    8.8%  { opacity: 0;
            transform: scale(15); }
    8.9%  { transform: scale(1); }
    100%  { opacity: 0;
            transform: scale(1); }
}

@keyframes game-freak-logo {
    0%    { opacity: 0; }
    12%   { opacity: 0; }
    13.5% { opacity: 1; }
    15.2% { opacity: 1; }
    16.5% { opacity: 0; }
    100%  { opacity: 0; }
}

@keyframes leaves-foreground {
    0%    { opacity: 1;
            transform: translateY(0%); }
    15.3% { transform: translateY(0%); }
    18.1% { transform: translateY(150%); }
    20.3% { opacity: 1; }
    20.4% { opacity: 0;
            transform: translateY(150%); }
    100%  { opacity: 0;
            transform: translateY(0%); }
}

@keyframes puddle {
    0%    { opacity: 1;
            transform: translateY(0%); }
    15.3% { transform: translateY(0%); }
    18.1% { transform: translateY(80%); }
    20.3% { opacity: 1; }
    20.4% { opacity: 0;
            transform: translateY(80%); }
    100%  { opacity: 0;
            transform: translateY(0%); }
}

@keyframes grass-layer {
    0%    { opacity: 1;
            transform: translateY(0%); }
    15.3% { transform: translateY(0%); }
    18.1% { transform: translateY(73%); }
    20.3% { opacity: 1; }
    20.4% { opacity: 0;
            transform: translateY(73%); }
    100%  { opacity: 0;
            transform: translateY(0%); }
}

@keyframes latias-silhouette-box {
    0%    { opacity: 0;
            transform: translate(0%, 0%); }
    17.5% { opacity: 0;
            transform: translate(0%, 0%); }
    17.6% { opacity: 1;
            transform: translate(0%, 0%); }
    18.1% { transform: translate(-54%, -76%); }
    19.9% { opacity: 1;
            transform: translate(-50%, -80%); }
    20%   { opacity: 0; /* add consistency translation */ }
    100%  { transform: translate(0%, 0%); }
}

@keyframes latias-silhouette {
    0%    { opacity: 0;
            transform: rotate(0deg); }
    17.5% { opacity: 0;
            transform: scale(1.4) rotate(0deg); }
    17.6% { opacity: 1;
            transform: scale(1.4) rotate(-30deg); }
    18.1% { transform: scale(0.7) rotate(0deg); }
    19.9% { opacity: 1;
            transform: scale(0.05) rotate(30deg); }
    20%   { opacity: 0;
            transform: scale(0.05) rotate(30deg); }
    20.1% { transform: scale(1) rotate(0deg); }
    100%  { opacity: 0;
            transform: scale(1) rotate(0deg); }
}

@keyframes mountain-background {
    0%    { opacity: 1; }
    20.3% { opacity: 1; }
    20.4% { opacity: 0; }
    100%  { opacity: 0; }
}

@keyframes ocean-background {
    0%    { opacity: 0; }
    20.3% { opacity: 0; }
    20.4% { opacity: 1; }
    36.9% { opacity: 1; }
    37% { opacity: 0; }
    100%  { opacity: 0; }
}

@keyframes cloud-speed-1 {
    0%    { opacity: 0;
            transform: translateX(0); }
    20.3% { opacity: 0;
            transform: translateX(0); }
    20.4% { opacity: 1; }
    36.9% { opacity: 1; }
    37%   { opacity: 0;
            transform: translateX(19%); }
    37.1% { transform: translateX(0); }
    100%  { opacity: 0;
            transform: translateX(0); }
}
@keyframes cloud-speed-2 {
    0%    { opacity: 0;
            transform: translateX(0); }
    20.3% { opacity: 0;
            transform: translateX(0); }
    20.4% { opacity: 1; }
    36.9% { opacity: 1; }
    37%   { opacity: 0;
            transform: translateX(13%); }
    37.1% { transform: translateX(0); }
    100%  { opacity: 0;
            transform: translateX(0); }
}
@keyframes cloud-speed-3 {
    0%    { opacity: 0;
            transform: translateX(0); }
    20.3% { opacity: 0;
            transform: translateX(0); }
    20.4% { opacity: 1; }
    36.9% { opacity: 1; }
    37%   { opacity: 0;
            transform: translateX(7%); }
    37.1% { transform: translateX(0); }
    100%  { opacity: 0;
            transform: translateX(0); }
}
@keyframes cloud-speed-4 {
    0%    { opacity: 0;
            transform: translateX(0); }
    20.3% { opacity: 0;
            transform: translateX(0); }
    20.4% { opacity: 1; }
    36.9% { opacity: 1; }
    37%   { opacity: 0;
            transform: translateX(3%); }
    37.1% { transform: translateX(0); }
    100%  { opacity: 0;
            transform: translateX(0); }
}

@keyframes grass-patch-box {
    0%    { opacity: 0; }
    20.3% { opacity: 0; }
    20.4% { opacity: 1;
            transform: translateY(-33%); }
    22.5% { transform: translateY(10%); }
    27%   { transform: translateY(-33%); }
    31%   { transform: translateY(10%); }
    37%   { opacity: 1; }
    37.1% { opacity: 0;
            transform: translateY(10%); }
    37.2% { transform: translateY(0); } /* do this during the second white flash */
    100%  { opacity: 0; }
}

@keyframes grass-patch {
    0%    { opacity: 0; }
    0.1%  { opacity: 1;
            transform: translateX(-98%); }
    99.9% { opacity: 1;
            transform: translateX(196%); }
    100%  { opacity: 0; }
}

@keyframes bike-box {
    0%    { opacity: 0;
            transform: translateX(0); }
    20.3% { opacity: 0;
            transform: translateX(0); }
    20.4% { opacity: 1; }
    21.5% { transform: translateX(-33%); }
    23.5% { transform: translateX(-28%); }
    26.4% { transform: translateX(-106%); }
    29.5% { transform: translateX(-32%); }
    31.5% { transform: translateX(-32%); }
    33.8% { transform: translateX(-125%); }
    33.9% { opacity: 1; }
    34%   { opacity: 0;
            transform: translateX(-120%); }
    34.1% { transform: translateX(0); }
    100%  { opacity: 0;
            transform: translateX(0); }
}

@keyframes latias-box {
    0%    { opacity: 0;
            transform: translate(0, 0); }
    26.1% { opacity: 0; }
    26.2% { opacity: 1;
            transform: translate(0, 0); }
    27%   { transform: translate(140%, 25%); }
    28%   { transform: translate(140%, 25%); }
    30.8%   { transform: translate(80%, 35%); }
    31.9% { opacity: 1; }
    32%   { opacity: 0;
            transform: translate(0, 35%); }
    32.1% { transform: translate(0, 0); }
    100%  { opacity: 0;
            transform: translate(0, 0); }
}

@keyframes latias { /* looped and 'ease-in-out'ed */
    0%    { transform: translateY(-10%); }
    100%  { transform: translateY(10%); }
}

@keyframes arena {
    0%    { transform: rotate(0); }
    37.7% { transform: rotate(0deg); }
    38.5% { transform: rotate(360deg); }
    100%  { transform: rotate(0); }
}
